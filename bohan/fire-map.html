<!DOCTYPE html>
<html lang="ja">
<head>
    <title>神納東区 消火栓 防火水槽</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css"/>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

    <style>
        body { margin: 0; padding: 0; }
        #map_container {
            position: absolute;
            top: 150px; /* ヘッダーの高さに合わせて調整 */
            bottom: 150px; /* フッターの高さに合わせて調整 */
            right: 0;
            left: 0;
        }
        #header-container {
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        #title {
            background: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 28px;
            font-weight: bold;
        }
        #legend {
            background: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 5px;
            margin-left: auto;
        }
        #legend img {
            width: 25px;
            height: 41px;
            vertical-align: middle;
            margin-right: 5px;
        }
        .legend-item {
            display: inline-block;
            margin-right: 15px;
        }
    </style>
</head>
<body>

    <header>
      <div class="logo-wrapper sub-logo">
        <a href="{{ '/' | relative_url }}">
          <img src="{{ '/images/logo.png' | relative_url }}" alt="神納東区ロゴ">
        </a>
      </div>
      <nav>
        <ul>
            <li><a href="{{ '/kairan/index.html' | relative_url }}">回覧板</a></li>
            <li><a href="{{ '/bohan/index.html' | relative_url }}">防災・防犯</a></li>
            <li><a href="{{ '/events/index.html' | relative_url }}">イベント情報</a></li>
            <li><a href="{{ '/history/index.html' | relative_url }}">神納東区の歴史</a></li>
            <li><a href="{{ '/contact/index.html' | relative_url }}">お問い合わせ</a></li>
        </ul>
      </nav>
    </header>
    <p class="small-text" id="page-desc"></p>

    <div id="header-container">
        <div id="title">神納東区 消火栓・防火水槽マップ</div>
        <div id="legend">
            <div class="legend-item">
                <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png"> 消火栓
            </div>
            <div class="legend-item">
                <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png"> 防火水槽
            </div>
        </div>
    </div>
    <div id="map_container"></div>

    <script>
        var map = L.map('map_container').setView([35.4265, 139.97267], 16);

        var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        });
        
        var gsi_std = L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
            attribution: '出典: <a href="http://www.gsi.go.jp/">国土地理院</a>'
        });
        
        var gsi_pale = L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/pale/{z}/{x}/{y}.png', {
            attribution: '出典: <a href="http://www.gsi.go.jp/">国土地理院</a>'
        });
        
        osm.addTo(map);

        var fireHydrantIcon = L.icon({
            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png',
            shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
            iconSize:    [25, 41],
            shadowSize:  [41, 41],
            iconAnchor:  [12, 41],
            popupAnchor: [1, -34]
        });

        var waterTankIcon = L.icon({
            iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png',
            shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
            iconSize:    [25, 41],
            shadowSize:  [41, 41],
            iconAnchor:  [12, 41],
            popupAnchor: [1, -34]
        });

        var points = [
            { "name": "消火栓_001", "lat": 35.4249187, "lng": 139.9616523, "type": "消火栓" },
            { "name": "消火栓_002", "lat": 35.4241928, "lng": 139.9616979, "type": "消火栓" },
            { "name": "消火栓_003", "lat": 35.4234519, "lng": 139.9619715, "type": "消火栓" },
            { "name": "消火栓_004", "lat": 35.4229763, "lng": 139.9619721, "type": "消火栓" },
            { "name": "消火栓_005", "lat": 35.4237847, "lng": 139.9632519, "type": "消火栓" },
            { "name": "消火栓_006（道路上）", "lat": 35.4229481, "lng": 139.9635439, "type": "消火栓" },
            { "name": "消火栓_007", "lat": 35.4242369, "lng": 139.9642396, "type": "消火栓" },
            { "name": "消火栓_008", "lat": 35.4235413, "lng": 139.9647447, "type": "消火栓" },
            { "name": "消火栓_009（道路上）", "lat": 35.4231484, "lng": 139.9653127, "type": "消火栓" },
            { "name": "消火栓_010", "lat": 35.4240677, "lng": 139.9657549, "type": "消火栓" },
            { "name": "消火栓_011（道路上）", "lat": 35.4247016, "lng": 139.9661076, "type": "消火栓" },
            { "name": "消火栓_012", "lat": 35.424451, "lng": 139.9664023, "type": "消火栓" },
            { "name": "消火栓_013", "lat": 35.4236918, "lng": 139.9668774, "type": "消火栓" },
            { "name": "消火栓_014（歩道上）", "lat": 35.4246106, "lng": 139.9683221, "type": "消火栓" },
            { "name": "消火栓_015", "lat": 35.4300094, "lng": 139.9693944, "type": "消火栓" },
            { "name": "消火栓_016", "lat": 35.4291609, "lng": 139.9691955, "type": "消火栓" },
            { "name": "消火栓_017", "lat": 35.4285618, "lng": 139.97258, "type": "消火栓" },
            { "name": "消火栓_018", "lat": 35.4300468, "lng": 139.9737387, "type": "消火栓" },
            { "name": "消火栓_019", "lat": 35.4277294, "lng": 139.9693651, "type": "消火栓" },
            { "name": "消火栓_020", "lat": 35.4274453, "lng": 139.9702986, "type": "消火栓" },
            { "name": "消火栓_021", "lat": 35.4265396, "lng": 139.9702968, "type": "消火栓" },
            { "name": "消火栓_022", "lat": 35.4243595, "lng": 139.9706637, "type": "消火栓" },
            { "name": "消火栓_023", "lat": 35.4237145, "lng": 139.9732447, "type": "消火栓" },
            { "name": "消火栓_024", "lat": 35.4228563, "lng": 139.975448, "type": "消火栓" },
            { "name": "消火栓_025", "lat": 35.4243549, "lng": 139.9783975, "type": "消火栓" },
            { "name": "消火栓_026", "lat": 35.4252007, "lng": 139.9797051, "type": "消火栓" },
            { "name": "消火栓_027", "lat": 35.420298, "lng": 139.9782052, "type": "消火栓" },
            { "name": "消火栓_028", "lat": 35.4210936, "lng": 139.9787692, "type": "消火栓" },
            { "name": "防火水槽_001（40立方メートル）", "lat": 35.4239044, "lng": 139.9628526, "description": "40.00立方メートル", "type": "防火水槽" },
            { "name": "防火水槽_002（42立方メートル）", "lat": 35.4266827, "lng": 139.9696236, "type": "防火水槽" },
            { "name": "防火水槽_003（40立方メートル）", "lat": 35.4282608, "lng": 139.9684578, "type": "防火水槽" },
            { "name": "防火水槽_004（40立方メートル）", "lat": 35.4243704, "lng": 139.969123, "type": "防火水槽" },
            { "name": "耐火水槽_005（40立方メートル）", "lat": 35.4241981, "lng": 139.9716452, "type": "防火水槽" },
            { "name": "防火水槽_006（42立方メートル）", "lat": 35.4224351, "lng": 139.9767928, "type": "防火水槽" }
        ];

        points.forEach(function(point) {
            var icon = (point.type === "消火栓") ? fireHydrantIcon : waterTankIcon;
            var marker = L.marker([point.lat, point.lng], {icon: icon}).addTo(map);
            var popupContent = `<b>${point.name}</b>`;
            if (point.description) {
                popupContent += `<br>${point.description}`;
            }
            marker.bindPopup(popupContent);
        });

        var baseMaps = {
            "OpenStreetMap": osm,
            "国土地理院 標準地図": gsi_std,
            "国土地理院 淡色地図": gsi_pale
        };

        L.control.layers(baseMaps).addTo(map);
    </script>
    
    <footer>
      <ul>
        <li><a href="{{ site.baseurl }}/terms.html">利用規約</a></li>
        <li><a href="{{ site.baseurl }}/privacy.html">プライバシーポリシー</a></li>
        <li><a href="{{ site.baseurl }}/contact/index.html">お問い合わせ</a></li>
      </ul>
      <p>&copy; 2025 神納東区 自治会</p>
    </footer>

    <div id="modal" class="modal">
    <div class="modal-close-top">
      <span onclick="closeModal()">× 閉じる</span>
    </div>
    <img id="modalImage" src="" alt="拡大画像">
    <div class="modal-link">
      <a id="enlargeLink" href="#" target="_blank">▶ さらに拡大表示</a>
    </div>
    <div class="modal-close-bottom">
      <span onclick="closeModal()">✖ 画像を閉じる</span>
    </div>
    </div>
    <script src="{{ site.baseurl }}/assets/js/script.js"></script> </body>
</html>